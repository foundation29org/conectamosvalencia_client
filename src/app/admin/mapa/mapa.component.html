<div class="container-fluid mt-4">
  <div class="row">
    <div class="col-12 col-md-3">
      <mat-card class="mb-3">
        <mat-card-header>
          <mat-card-title>Filtrar necesidades</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-radio-group 
            [(ngModel)]="selectedNeedType"
            (change)="onNeedTypeChange($event.value)"
            class="need-type-filter">
            
            <!-- Opción "Todas" -->
            <mat-radio-button 
              [value]="'all'"
              class="d-block mb-3">
              Todas las necesidades
              <span class="ms-2 text-muted">
                ({{getNeedStats().total}})
              </span>
            </mat-radio-button>
        
            <!-- Filtros por categoría -->
            <div *ngFor="let category of getCategories()" class="mb-4">
              <h6 class="text-muted mb-2">{{category}}</h6>
              <mat-radio-button 
                *ngFor="let type of getNeedsByCategory(category)"
                [value]="type.id"
                class="d-block mb-2 ms-3">
                {{type.label}}
                <span class="ms-2 text-muted">
                  ({{getNeedStats().byType[type.id]}})
                </span>
                <small class="d-block text-muted ms-4 description-text" style="font-size: 0.8em">
                  {{type.info}}
                </small>
              </mat-radio-button>
            </div>
        
          </mat-radio-group>
        </mat-card-content>
      </mat-card>
    </div>

    <div class="col-12 col-md-9">
      <mat-card>
        <mat-card-content>
          <div #mapContainer id="map"></div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>